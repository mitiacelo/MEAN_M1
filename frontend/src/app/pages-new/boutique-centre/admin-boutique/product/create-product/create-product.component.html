<div class="create-product-form">
    <h2>Ajouter un produit</h2>
  
    @if (error) {
      <p class="error">{{ error }}</p>
    }
  
    <form (ngSubmit)="submit()">
      <div class="form-group">
        <label>Nom :</label>
        <input [(ngModel)]="product.name" name="name" required />
      </div>
    
      <div class="form-group">
        <label>Description :</label>
        <textarea [(ngModel)]="product.description" name="description"></textarea>
      </div>
    
      <div class="form-group">
        <label>Type :</label>
        <select [(ngModel)]="product.id_type" name="id_type" required>
          <option value="" disabled>Sélectionner</option>
          @for (type of types; track type._id) {
            <option [value]="type._id">{{ type.name }}</option>
          }
        </select>
      </div>
    
      <div class="form-group">
        <label>Quantité initiale :</label>
        <input 
          type="number" 
          [(ngModel)]="product.quantite" 
          name="quantite" 
          min="0" 
          required 
        />
      </div>
    
      <div class="form-group">
        <label>Prix initial (Ar) :</label>
        <input 
          type="number" 
          [(ngModel)]="product.prix" 
          name="prix" 
          min="0" 
          step="0.01" 
          required 
        />
      </div>
    
      <div class="form-buttons">
        <button type="submit" [disabled]="!product.name || !product.id_type || product.quantite < 0 || product.prix < 0">
          Ajouter
        </button>
        <button type="button" (click)="cancelForm()">Annuler</button>
      </div>
    
      @if (error) {
        <p class="error">{{ error }}</p>
      }
    </form>
  </div>