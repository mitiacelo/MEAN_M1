<div class="shop-page">
  <header class="page-header">
    <h1>Toutes les boutiques</h1>
    <p>Découvrez l’ensemble des espaces disponibles et déjà occupés à Plaza</p>
  </header>

  @if (loading) {
    <div class="loading-container">
      <p>Chargement des boutiques...</p>
    </div>
  } @else if (errorMessage) {
    <div class="error-container">
      <p>{{ errorMessage }}</p>
    </div>
  } @else {
    <!-- 1. Boutiques inactives : disponibles en attente -->
    <section class="shops-section available">
      <h2>Salles disponibles en attente de propriétaire</h2>
      <p class="section-intro">Ces espaces sont prêts à accueillir votre projet.</p>

      @if (availableShops.length === 0) {
        <p class="empty">Aucune salle disponible pour le moment.</p>
      } @else {
        <div class="shops-grid">
          @for (shop of availableShops; track shop._id) {
            <div class="shop-card">
              <h3>{{ shop.name }}</h3>
              <p class="superficie">{{ shop.superficie }} m²</p>
              <p class="description">{{ shop.description || 'Aucune description' }}</p>

              <button class="consult-btn" [routerLink]="['/shop', shop._id]">
                Visiter la boutique
              </button>
            </div>
          }
        </div>
      }
    </section>

    <!-- 2. Boutiques actives : déjà ouvertes -->
    <section class="shops-section active">
      <h2>Nos boutiques</h2>
      <p class="section-intro">Découvrez les enseignes déjà installées et ouvertes au public.</p>

      @if (activeShops.length === 0) {
        <p class="empty">Aucune boutique ouverte pour le moment.</p>
      } @else {
        <div class="shops-grid">
          @for (shop of activeShops; track shop._id) {
            <div class="shop-card active">
              <h3>{{ shop.name }}</h3>
              <p class="superficie">{{ shop.superficie }} m²</p>
              <p class="description">{{ shop.description || 'Aucune description' }}</p>

              <button class="consult-btn" [routerLink]="['/shop', shop._id]">
                Consulter la boutique
              </button>
            </div>
          }
        </div>
      }
    </section>
  }
</div>