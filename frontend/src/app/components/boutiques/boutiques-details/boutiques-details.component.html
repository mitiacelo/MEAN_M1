<div class="boutique-details-container">
    @if (loading) {
      <p class="loading">Chargement de la boutique...</p>
    } @else if (error) {
      <p class="error">{{ error }}</p>
    } @else if (boutique) {
      <header class="boutique-header">
        <h1>{{ boutique.name }}</h1>
        <p class="domaine">{{ boutique.id_domaine?.name || 'Domaine non défini' }}</p>
        <p class="description">{{ boutique.description || 'Aucune description disponible' }}</p>
        <p class="salle">
          Située dans la salle : {{ boutique.id_shop?.name }} ({{ boutique.id_shop?.superficie }} m²)
        </p>
      </header>
  
      <section class="products-section">
        <h2>Produits disponibles</h2>
        @if (products.length === 0) {
          <p class="empty">Aucun produit disponible pour le moment.</p>
        } @else {
          <div class="products-grid">
            @for (product of products; track product._id) {
              <div class="product-card">
                <h3>{{ product.name }}</h3>
                <p class="description">{{ product.description || 'Pas de description' }}</p>
                <p class="type">Type : {{ product.id_type?.name || 'Non spécifié' }}</p>
                <button class="view-btn" [routerLink]="['/product', product._id]">Voir le produit</button>
              </div>
            }
          </div>
        }
      </section>
  
      <button class="back-btn" routerLink="/landing">Retour à l'accueil</button>
    }
  </div>